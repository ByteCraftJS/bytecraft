type MiddlewareFunction = (request: AppRequest, next: MiddlewareNext) => Promise<void>